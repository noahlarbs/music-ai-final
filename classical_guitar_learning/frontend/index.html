<!--edited by noahlarbalestier, student of Prof. Michael Casey, Dartmouth College. May 2024-->

<html>
  <head>
    <!-- Required scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vexflow/3.0.9/vexflow-min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@magenta/music@1.9.0"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="header">
      <h1>ğŸ¼ Classical Guitar Learning Platform</h1>
      <p>Upload MIDI files, train AI models, and generate classical guitar exercises</p>
    </div>
    
    <div class="controls">
      <div class="upload-section">
        <input type="file" id="input" accept=".midi,.mid"/>
        <button id="uploadButton" class="btn primary">
          ğŸ“ Display Upload File
        </button>
      </div>
      
      <div class="train-section">
        <button id="trainButton" class="btn secondary">
          ğŸ§  Train with File
        </button>
      </div>
      
      <div class="options-section">
        <label for="octaveSelector">Octave Adjustment:</label>
        <select id="octaveSelector">
            <option value="0">Down One</option>
            <option value="1" selected>Same</option>
            <option value="2">Up One (standard for guitar)</option>
        </select>
      </div>
      
      <div class="options-section">
        <label for="temperatureSlider">Creativity (Temperature): <span id="tempValue">1.0</span></label>
        <input type="range" id="temperatureSlider" min="0.1" max="2.0" step="0.1" value="1.0">
      </div>

      <div class="options-section">
        <label for="positionSelector">Fretboard Position:</label>
        <select id="positionSelector">
          <option value="0" selected>Automatic (Best Fit)</option>
          <option value="1">1st Position</option>
          <option value="2">2nd Position</option>
          <option value="3">3rd Position</option>
          <option value="4">4th Position</option>
          <option value="5">5th Position</option>
          <option value="6">6th Position</option>
          <option value="7">7th Position</option>
          <option value="8">8th Position</option>
          <option value="9">9th Position</option>
          <option value="10">10th Position</option>
          <option value="11">11th Position</option>
          <option value="12">12th Position</option>
        </select>
      </div>
      
      <div class="generate-section">
        <button id="sample" class="btn accent" disabled>ğŸµ Generate Sample</button>
      </div>
    </div>
    
    <div class="status-section">
      <p id="initialization" style="visibility: hidden">ğŸ”„ Initializing Models...</p>
      <p id="epochsText">Epoch 0 / 100</p>
    </div>
    
    <div class="info-section">
      <p>
        <strong>Instructions:</strong> Upload a MIDI file to see the first 16 notes displayed as sheet music. 
        Train the AI model on your file, then generate new classical guitar exercises in a similar style!
      </p>
    </div>
    
    <div class="notation-container">
      <h3>ğŸ“ Musical Notation</h3>
      <div id="notation"></div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
